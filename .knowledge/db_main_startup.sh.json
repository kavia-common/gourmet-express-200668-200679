{"is_source_file": true, "format": "bash", "description": "A minimal PostgreSQL startup and initialization script that checks for existing server instances, initializes the database if necessary, starts the server, creates the database and user, sets permissions, and saves connection info and environment variables.", "external_files": ["/usr/lib/postgresql/${PG_VERSION}/bin/pg_isready", "/usr/lib/postgresql/${PG_VERSION}/bin/psql", "/usr/lib/postgresql/${PG_VERSION}/bin/initdb", "/usr/lib/postgresql/${PG_VERSION}/bin/postgres", "/usr/lib/postgresql/${PG_VERSION}/bin/createdb"], "external_methods": ["sudo -u postgres ${PG_BIN}/pg_isready", "sudo -u postgres ${PG_BIN}/psql", "sudo -u postgres ${PG_BIN}/initdb", "sudo -u postgres ${PG_BIN}/postgres", "sudo -u postgres ${PG_BIN}/createdb"], "published": [], "classes": [], "methods": [], "calls": ["ls /usr/lib/postgresql/", "sudo -u postgres ${PG_BIN}/pg_isready", "sudo -u postgres ${PG_BIN}/psql", "sudo -u postgres ${PG_BIN}/initdb", "sudo -u postgres ${PG_BIN}/postgres", "sudo -u postgres ${PG_BIN}/createdb", "cat db_connection.txt", "sleep 5", "sleep 2", "pgrep -f \"postgres.*-p ${DB_PORT}\"", "echo", "cat > db_visualizer/postgres.env", "cat", "echo"], "search-terms": ["PostgreSQL startup script", "db_connection.txt", "initdb", "pg_isready", "start PostgreSQL", "setup database user permissions", "pg_create_db"], "state": 2, "file_id": 4, "knowledge_revision": 13, "git_revision": "abc6dc1a25602defad44933d53acd7a55ada0cde", "hash": "fa2aa67ea0a7c72f7c0958282f15a864", "format-version": 4, "code-base-name": "db_main", "filename": "db_main/startup.sh", "revision_history": [{"13": "abc6dc1a25602defad44933d53acd7a55ada0cde"}]}